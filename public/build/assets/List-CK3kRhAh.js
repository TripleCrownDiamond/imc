import{j as e,Y as d,a as r}from"./app-BXt_hrfz.js";import{A as a}from"./AuthenticatedLayout-CveLnNtc.js";import{P as o}from"./PrimaryButton-BD8oMcmo.js";import{S as l}from"./SecondaryButton-D_RV3iZu.js";import"./ApplicationLogo-tQLSnZ1g.js";import"./transition-CxnqNrx_.js";const m="I-Coin",x=async t=>{(await fetch(`/courses/${t}/purchase`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}})).ok?toast.success("Achat réussi!"):toast.error("Achat échoué!")};function y({courses:t,userRole:i,subscriptions:n}){return i==="admin"?e.jsx(a,{children:e.jsx("div",{className:"py-12",children:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Admin View"})})}):e.jsxs(a,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Formations"}),children:[e.jsx(d,{title:"Formations"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 bg-white border-b border-gray-200",children:e.jsx("ul",{children:t.map(s=>{const c=n.includes(s.id);return e.jsxs("li",{className:"border-b border-gray-300 py-4 hover:bg-gray-100 transition duration-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#cd8b76]",children:s.name}),e.jsx("p",{className:"text-gray-700",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Videos: ",s.number_of_videos]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("span",{className:"text-sm text-green-600",children:["Price: $",s.price_usd," USD"]}),e.jsxs("span",{className:"text-sm text-green-600",children:["Price: ",s.price_i_coin," ",m]})]})]}),e.jsx("div",{className:"mt-4",children:c?e.jsx(r,{href:`/courses/${s.id}`,children:e.jsx(l,{children:"Voir la formation"})}):e.jsx(r,{href:`/courses/${s.id}/purchase`,children:e.jsx(o,{onClick:()=>x(s.id),children:"Acheter cette formation"})})})]},s.id)})})})})})})]})}export{y as default};
